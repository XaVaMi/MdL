<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>El calaix de les claus</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Special+Elite&family=Roboto+Slab:wght@400;700&display=swap');
  body {{
    margin: 0;
    font-family: 'Roboto Slab', serif;
    min-height: 100vh;
    background-color: #f3e9d2;
    background-image: repeating-linear-gradient(45deg, #d6c6a6, #d6c6a6 2px, transparent 2px, transparent 10px);
    color: #3e2f1c;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }}
  h1 {{
    font-family: 'Special Elite', monospace;
    color: #5b4226;
    text-shadow: 1px 1px 2px #a08a64;
    font-size: 56px;
    letter-spacing: 3px;
    text-transform: uppercase;
    border-bottom: 3px solid #5b4226;
    padding-bottom: 10px;
    margin-bottom: 60px;
    text-align: center;
  }}
  .container {{
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 30px;
  }}
  .drawer {{
    width: 300px; height: 180px;
    background-color: #ede3c7;
    border: 2px solid #8c7b4d;
    border-radius: 12px;
    box-shadow: inset 0 0 12px #b4a67daa, 4px 6px 15px rgba(62,47,28,0.6);
    position: relative;
    overflow: hidden;
    transition: all 0.6s ease;
  }}
  .drawer.open {{
    width: calc(100vw - 100px);
    max-width: 900px;
    height: 600px;
    border: 3px solid #5b4226;
    border-radius: 8px;
    box-shadow: inset 0 0 12px #b4a67daa, 4px 6px 20px rgba(62,47,28,0.7);
  }}
  .handle {{
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    width: 80px; height: 20px;
    background: linear-gradient(135deg, #8c7b4d 0%, #b8a66e 100%);
    border: 2px solid #715f36;
    border-radius: 10px;
    box-shadow: inset 0 0 6px #5d4b16;
    transition: all 0.6s ease;
  }}
  .drawer.open .handle {{ display: none; }}
  button {{
    padding: 16px 32px;
    font-size: 22px;
    border-radius: 12px;
    background-color: #5b4226;
    color: #f9f1d0;
    border: 2px solid #a89061;
    box-shadow: 2px 2px 8px #3e2f1c99;
    font-family: 'Special Elite', monospace;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }}
  button:hover {{ background-color: #a89061; color: #362c15; }}
  .hidden {{ display: none !important; }}
</style>
</head>
<body>
  <h1>El calaix de les claus</h1>
  <div class="container">
    <div class="drawer" id="drawer"><div class="handle"></div>{img_html}</div>
    <button id="openBtn" onclick="openDrawer()">Obrir</button>
  </div>
<script>
function openDrawer() {{
  const drawer = document.getElementById("drawer");
  const button = document.getElementById("openBtn");
  drawer.classList.add("open");
  button.classList.add("hidden");
  document.querySelectorAll('.key').forEach(k => {{
    k.style.display = 'block';
    k.onmousedown = function(e) {{
      e.preventDefault();
      const rect = drawer.getBoundingClientRect();
      const shiftX = e.clientX - k.getBoundingClientRect().left;
      const shiftY = e.clientY - k.getBoundingClientRect().top;
      document.addEventListener('mousemove', move);
      function move(event) {{
        let newX = event.pageX - shiftX - rect.left;
        let newY = event.pageY - shiftY - rect.top;
        newX = Math.max(0, Math.min(newX, rect.width - k.offsetWidth));
        newY = Math.max(0, Math.min(newY, rect.height - k.offsetHeight));
        k.style.left = newX + 'px';
        k.style.top = newY + 'px';
      }};
      document.onmouseup = function() {{
        document.removeEventListener('mousemove', move);
        document.onmouseup = null;
      }};
    }};
    k.ondragstart = () => false;
  }});
}}
</script>
</body>
</html>
